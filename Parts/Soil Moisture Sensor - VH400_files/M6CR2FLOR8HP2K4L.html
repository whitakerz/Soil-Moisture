<!DOCTYPE html>
<!-- saved from url=(0056)https://api.vegecloud.com/view/34315633/M6CR2FLOR8HP2K4L -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>VegeCloud Data View</title>
<!-- JQUERY JS -->
<script src="./jquery-3.6.0.min.js.download" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<!-- Bootstrap JS -->
<script src="./bootstrap.bundle.min.js.download" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<!-- Luxon JS -->
<script src="./luxon.min.js.download" integrity="sha512-dUlSLLkxslGILhPdCkALwk4szPhp3xmZIKFtlUD+O9Lslq41Aksmdt5OGqpomDoT4FsCUH70jQU8ezZHI3v1RQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<!-- Chart.js USE UMD modules!!!!! (js deliver also has links that point to the latest) -->
<script src="./chart.umd.min.js.download" integrity="sha512-CQBWl4fJHWbryGE+Pc7UAxWMUMNMWzWxF4SQo9CgkJIN1kx6djDQZjh3Y8SZ1d+6I+1zze6Z7kHXO7q3UyZAWw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="./chartjs-adapter-luxon.umd.min.js.download" integrity="sha512-I8SeDoNxRKOuQMhqHmx95hydiG/LCY9SFCs3cqAf+f1kIZbAyXXIXIIwgx32ZIgZpOVrEOHSfyjeKxRNIuBvWQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<!-- Gauges -->
<script src="./gauge.min.js.download" integrity="sha256-RLCkrFTguYA3HoeI986CFdq1ohgc2kYPw0Qna1A4WQQ=" crossorigin="anonymous"></script>	


	<script src="./site-common.js.download"></script>
	<script src="./view-common.js.download"></script>
	<link rel="stylesheet" href="./site.css">
	<style>
		.text-center {
			text-align: center;
		}

		h1 {
			color: green;
			line-height: 1em;
			margin-top: 10px;
			margin-bottom: 50px;

		}

		h3 {
			margin-bottom: 10px;
			line-height: 1em;
		}
	</style>
	<script>
		var view =  {"ViewID":209,"ViewKey":"M6CR2FLOR8HP2K4L","UserID":1,"SensorID":249,"ViewTypeID":1,"Idx":0,"Title":"Vegetronix Office Plant","Curved":0.4,"XLabel":"Date","YLabel":"% VWC","Units":"V","MinVal":0,"MaxVal":100,"TickSpacing":20,"Range1Low":0,"Range1High":20,"Range1Color":"#ff0200","Range2Low":20,"Range2High":40,"Range2Color":"#ffff65","HubID":160,"LocationID":289,"TransformID":3,"SensorTypeID":2,"Slot":1,"Name":"Office Plant Moisture","Notes":"","ExtStorage":0,"HasExtData":null,"transform":{"TransformTypeID":3,"x":[0,1.1,1.3,1.82,2.2,3],"y":[0,10,15,40,50,100]},"samples":[{"v":1.858,"t":"2025-10-29 10:07:04"},{"v":1.862,"t":"2025-10-29 09:37:06"},{"v":1.862,"t":"2025-10-29 09:07:07"},{"v":1.862,"t":"2025-10-29 08:37:09"},{"v":1.862,"t":"2025-10-29 08:07:10"},{"v":1.865,"t":"2025-10-29 07:37:11"},{"v":1.864,"t":"2025-10-29 07:07:13"},{"v":1.865,"t":"2025-10-29 06:37:14"},{"v":1.864,"t":"2025-10-29 06:07:16"},{"v":1.868,"t":"2025-10-29 05:37:17"},{"v":1.867,"t":"2025-10-29 05:07:18"},{"v":1.871,"t":"2025-10-29 04:37:20"},{"v":1.874,"t":"2025-10-29 04:07:21"},{"v":1.874,"t":"2025-10-29 03:37:22"},{"v":1.874,"t":"2025-10-29 03:07:24"},{"v":1.877,"t":"2025-10-29 02:37:25"},{"v":1.877,"t":"2025-10-29 02:07:26"},{"v":1.877,"t":"2025-10-29 01:37:28"},{"v":1.878,"t":"2025-10-29 01:07:29"},{"v":1.878,"t":"2025-10-29 00:37:31"},{"v":1.874,"t":"2025-10-29 00:07:32"},{"v":1.874,"t":"2025-10-28 23:37:33"},{"v":1.871,"t":"2025-10-28 23:07:35"},{"v":1.871,"t":"2025-10-28 22:37:36"},{"v":1.867,"t":"2025-10-28 22:07:37"},{"v":1.868,"t":"2025-10-28 21:37:39"},{"v":1.868,"t":"2025-10-28 21:07:40"},{"v":1.868,"t":"2025-10-28 20:37:41"},{"v":1.865,"t":"2025-10-28 20:07:44"},{"v":1.864,"t":"2025-10-28 19:37:45"},{"v":1.865,"t":"2025-10-28 19:07:46"},{"v":1.864,"t":"2025-10-28 18:37:48"},{"v":1.867,"t":"2025-10-28 18:07:49"},{"v":1.867,"t":"2025-10-28 17:37:50"},{"v":1.863,"t":"2025-10-28 17:07:52"},{"v":1.866,"t":"2025-10-28 16:37:53"},{"v":1.864,"t":"2025-10-28 16:07:54"},{"v":1.864,"t":"2025-10-28 15:37:56"},{"v":1.865,"t":"2025-10-28 15:07:57"},{"v":1.864,"t":"2025-10-28 14:37:58"},{"v":1.865,"t":"2025-10-28 14:08:00"},{"v":1.865,"t":"2025-10-28 13:38:01"},{"v":1.867,"t":"2025-10-28 13:08:03"},{"v":1.867,"t":"2025-10-28 12:38:04"},{"v":1.868,"t":"2025-10-28 12:08:05"},{"v":1.868,"t":"2025-10-28 11:38:07"},{"v":1.866,"t":"2025-10-28 11:08:08"},{"v":1.871,"t":"2025-10-28 10:38:09"},{"v":1.874,"t":"2025-10-28 10:08:11"},{"v":1.874,"t":"2025-10-28 09:38:12"}]}; // passed in!
		console.log(view);

		function isset(p) {
			return (typeof p != "undefined");
		}

		function chartDraw(view) {
			let config = JSON.parse(JSON.stringify(VIEW_CONFIGS[0])); // clone
			config.options.scales.x.title.text = view.YLabel;
			config.options.scales.x.title.text = view.XLabel;
			config.options.plugins.title.text = view.Title;
			config.data.datasets[0].tension = view.Curved;
			config.data.datasets[0].label = view.SensorName;
			config.data.datasets[0].data = view.samples;
			let ctx = document.getElementById("view-canvas").getContext("2d");
			window.chart = new Chart(ctx, config);
			window.chart.update();
		}
		function gaugeDraw(view) {
			let config = Object.assign({}, VIEW_CONFIGS[view.ViewTypeID - 1]);//  clone.

			$('#heading').text(view.Title);
			let highlights = [];
			highlights.push({
				"from": view.Range1Low,
				"to": view.Range1High,
				"color": view.Range1Color
			});
			highlights.push({
				"from": view.Range2Low,
				"to": view.Range2High,
				"color": view.Range2Color
			});
			config.highlights = highlights;
			config.units = view.Units;


			//*****Ticks************************** */
			if (isset(view.MinVal) && isset(view.MaxVal) && isset(view.TickSpacing)) {
				if ((view.TickSpacing > 0) && (((view.MaxVal - view.MinVal) / view.TickSpacing) < 50)) {
					let major_ticks = [];
					for (let tick = view.MinVal; tick <= view.MaxVal; tick += view.TickSpacing) {
						major_ticks.push(tick);
					}
					config.minValue = view.MinVal;
					config.maxValue = view.MaxVal;
					config.majorTicks = major_ticks;
				};
			}
			config.value = view.samples[0].y;
			if (view.ViewTypeID == 3) { // radial gauge.
				config.width = 400;
				config.height = 400;
				window.gauge = new RadialGauge(config).draw();
			} else {
				config.width = 220;
				config.height = 350;
				window.gauge = new LinearGauge(config).draw();
			}
		}

		$(() => {
			view.samples = transformDataSamples(view.transform, view.samples);
			console.log(view);
			switch (view.ViewTypeID) {
				case 1:
					chartDraw(view);
					break;
				case 2:
				case 3:
				case 4:
					gaugeDraw(view);
					break;
			}
		});
	</script>
</head>

<body class="__bm__extension" data-new-gr-c-s-check-loaded="14.1260.0" data-gr-ext-installed="">
	<h1 class="text-center">VegeCloud.com - See Things Grow</h1>
	<div style="text-align:center">
		<h3 id="heading"></h3>
		<canvas id="view-canvas" height="300" style="display: block; box-sizing: border-box; height: 300px; width: 761px;" width="761"></canvas>
	</div>

</body><grammarly-desktop-integration data-grammarly-shadow-root="true"><template shadowrootmode="open"><style>
      div.grammarly-desktop-integration {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select:none;
        user-select:none;
      }

      div.grammarly-desktop-integration:before {
        content: attr(data-content);
      }
    </style><div aria-label="grammarly-integration" role="group" tabindex="-1" class="grammarly-desktop-integration" data-content="{&quot;mode&quot;:&quot;limited&quot;,&quot;isActive&quot;:false,&quot;isUserDisabled&quot;:false}"></div></template></grammarly-desktop-integration></html>